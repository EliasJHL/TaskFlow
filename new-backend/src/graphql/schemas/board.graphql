type Board {
    board_id: ID!
    title: String!
    description: String
    color: String!
    workspace_id: ID!
    created_by: User!

    lists: [List!]!
    members: [User!]!
    labels: [Label!]!
}

type List {
    list_id: ID!
    title: String!
    position: Int!
    color: String
    board_id: ID!
    cards: [Card!]!
}

type Card {
    card_id: ID!
    title: String!
    description: String
    position: Int!
    list_id: ID!
    due_date: DateTime

    labels: [Label!]!
    comments: [Comment!]!
    attachments: [Attachment!]!
    assignees: [User!]!
}

type Comment {
    comment_id: ID!
    content: String!
    created_at: DateTime!
    updated_at: DateTime!
    card_id: ID!
    author: User!
}

type Label {
    label_id: ID!
    name: String!
    color: String!
    board_id: ID!
}

type Attachment {
    attachment_id: ID!
    url: String!
    filename: String!
    mime_type: String
}

# --- INPUTS ---
input CreateBoardInput {
    title: String!
    description: String
    color: String!
    workspace_id: ID!
}

input UpdateBoardInput {
    title: String
    description: String
    color: String
}

input CreateListInput {
    title: String!
    board_id: ID!
}

input CreateLabelInput {
  name: String!
  color: String!
  board_id: ID!
}

input UpdateListInput {
    title: String
    color: String
}

input CreateCardInput {
    title: String!
    list_id: ID!
    description: String
    due_date: DateTime
}

input UpdateCardInput {
    title: String
    description: String
    due_date: DateTime
}

type Query {
    board(board_id: ID!): Board
    boards(workspace_id: ID!): [Board!]!
}

type Mutation {
    # --- BOARD ---
    createBoard(input: CreateBoardInput!): Board!
    updateBoard(board_id: ID!, input: UpdateBoardInput!): Board!
    deleteBoard(board_id: ID!): Status!

    # --- LISTS ---
    createList(input: CreateListInput!): List!
    updateList(list_id: ID!, input: UpdateListInput!): List!
    deleteList(list_id: ID!): Status!

    moveList(list_id: ID!, new_position: Int!): List!

    # --- CARDS ---
    createCard(input: CreateCardInput!): Card!
    deleteCard(card_id: ID!): Status!

    updateCardContent(card_id: ID!, input: UpdateCardInput!): Card!

    moveCard(card_id: ID!, list_id: ID!, new_position: Int!): Card!

    # --- LABELS & ASSIGNEES ---
    addLabelToCard(card_id: ID!, label_id: ID!): Card!
    removeLabelFromCard(card_id: ID!, label_id: ID!): Card!

    addAssigneeToCard(card_id: ID!, user_id: ID!): Card!
    removeAssigneeFromCard(card_id: ID!, user_id: ID!): Card!

    createLabel(input: CreateLabelInput!): Label!
    deleteLabel(label_id: ID!): Status!
}
